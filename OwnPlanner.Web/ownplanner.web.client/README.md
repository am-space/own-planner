# OwnPlanner Web Client

A React + TypeScript + MUI web client for the OwnPlanner application.

## Features

- ? **Authentication System**
  - User Registration (Email, Username, Password)
  - User Login (Email & Password)
  - Protected Routes
  - Persistent Authentication with Cookies

- ? **Chat Interface**
  - Real-time message display
  - User/Assistant message differentiation
  - Message timestamps
  - Responsive design

- ? **User Interface**
  - Material-UI (MUI) components
  - Responsive layout
  - Clean, modern design
  - User status display in header

## Tech Stack

- **React 19** - UI Framework
- **TypeScript** - Type Safety
- **Material-UI (MUI)** - Component Library
- **React Router** - Navigation
- **Vite** - Build Tool

## Getting Started

### Prerequisites

- Node.js (v18 or higher)
- npm or yarn

### Installation

```bash
# Install dependencies
npm install
```

### Running the Application

```bash
# Development mode
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview
```

The application will run on `https://localhost:56404` (or the port specified in environment variables).

## Project Structure

```
src/
??? components/          # Reusable components
?   ??? ProtectedRoute.tsx
??? contexts/           # React contexts
?   ??? AuthContext.tsx
??? pages/              # Page components
?   ??? LoginPage.tsx
?   ??? RegisterPage.tsx
?   ??? ChatPage.tsx
??? services/           # API services
?   ??? api.ts
??? App.tsx             # Main app component
??? main.tsx           # App entry point
??? index.css          # Global styles
```

## API Integration

The client communicates with the ASP.NET backend via REST API:

- `POST /api/auth/register` - Register new user
- `POST /api/auth/login` - Login user
- `POST /api/auth/logout` - Logout user
- `GET /api/auth/check` - Check authentication status
- `GET /api/auth/me` - Get current user info

## Routes

- `/` - Redirects to `/chat`
- `/login` - Login page
- `/register` - Registration page
- `/chat` - Chat interface (protected)

## Authentication Flow

1. User registers or logs in
2. Backend sets HTTP-only cookie
3. Client stores user info in context
4. Protected routes check authentication
5. API calls include credentials automatically

## MCP Integration (Planned)

The chat interface is prepared for MCP (Model Context Protocol) integration:
- Message history management
- Assistant response handling
- Real-time communication ready

## Development Notes

### Hot Module Replacement (HMR)

Vite provides fast HMR during development. Changes are reflected immediately.

### HTTPS in Development

The app uses HTTPS in development mode with self-signed certificates generated by .NET dev-certs.

### Proxy Configuration

API calls are proxied to the backend server in development (configured in `vite.config.ts`).

## Building for Production

```bash
npm run build
```

The build output will be in the `dist/` directory and will be served by the ASP.NET backend.

## Troubleshooting

### HTTPS Certificate Issues

If you encounter certificate errors:

```bash
dotnet dev-certs https --clean
dotnet dev-certs https --trust
```

### Port Conflicts

Change the port in `vite.config.ts` if 56404 is already in use.

## Future Enhancements

- [ ] MCP integration for AI-powered planning
- [ ] Task management UI
- [ ] Note-taking interface
- [ ] Dark mode toggle
- [ ] User preferences
- [ ] Notification system
